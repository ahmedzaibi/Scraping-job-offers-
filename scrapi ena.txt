import pandas as pd
import re
from selenium import webdriver
from selenium.webdriver.common import keys
from selenium.webdriver.common.by import By
import time
browser=webdriver.Chrome("C:\selinium\chromedriver.exe")
browser.get("https://www.keejob.com/offres-emploi/")
time.sleep(10)
job=browser.find_elements(By.XPATH,'//div//h6//a')
sec=0
for i in job :
    sec=sec+1
elementsall=[]
for i in range(sec) :
    offer=browser.find_element_by_xpath("//div//h6//a[@href]")
    offer.click()
    time.sleep(10)
    elements=browser.find_elements(By.XPATH,"//*[contains(@class,'meta')]")
    for j in range(len(elements)):
        elementsall.append(elements)
        
    browser.back()
    time.sleep(10)
col=[elements]
df=pd.DataFrame({"elements":elements,})
df.head()    
ES7IIIIII7:
browser=webdriver.Chrome("C:\selinium\chromedriver.exe")
browser.get("https://www.keejob.com/offres-emploi/")

jobs=browser.find_elements(By.XPATH,'//div//h6//a')
for i in range(len(jobs)):
    print(jobs[i].text,'\n')
    print('ok1')
    WebDriverWait(browser, 20).until(EC.element_to_be_clickable(jobs[i])).click()
    time.sleep(3)
    print('ok2')
    browser.get("https://www.keejob.com/offres-emploi/")
    WebDriverWait(browser, 20).until(EC.element_to_be_clickable((By.XPATH,'//div//h6//a' ))) #just to wait for loading
    jobs=browser.find_elements(By.XPATH,'//div//h6//a')
    print("ok3")
    print('\n')
SCRAPE KEEJOB ADD SKIPPING :
browser=webdriver.Chrome("C:\selinium\chromedriver.exe")
wait = WebDriverWait(browser, 10)
browser.get("https://www.keejob.com/offres-emploi/")
jobs=browser.find_elements(By.XPATH,'//div//h6//a')
for i in range(len(jobs)):
    try:
        wait.until(EC.element_to_be_clickable((By.XPATH, "//div[@id='cbb']"))).click()
    except TimeoutException:
        pass
    WebDriverWait(browser, 20).until(EC.element_to_be_clickable(jobs[i])).click()
    time.sleep(3)
    browser.get("https://www.keejob.com/offres-emploi/")
    WebDriverWait(browser, 20).until(EC.element_to_be_clickable((By.XPATH,'//div//h6//a' ))) #just to wait for loading
    jobs=browser.find_elements(By.XPATH,'//div//h6//a')
    print('\n')